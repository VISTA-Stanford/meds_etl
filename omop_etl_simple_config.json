{
    "primary_key": "person_id",
    "canonical_events": {
        "birth": {
            "code": "MEDS_BIRTH",
            "table": "person",
            "time_field": "birth_datetime",
            "time_fallbacks": [
                "year_of_birth",
                "month_of_birth",
                "day_of_birth"
            ],
            "metadata": [
                {
                    "name": "gender_concept_id",
                    "type": "int"
                },
                {
                    "name": "race_concept_id",
                    "type": "int"
                },
                {
                    "name": "ethnicity_concept_id",
                    "type": "int"
                }
            ]
        },
        "death": {
            "code": "MEDS_DEATH",
            "table": "death",
            "time_field": "death_datetime",
            "time_fallbacks": [
                "death_date"
            ],
            "metadata": [
                {
                    "name": "cause_concept_id",
                    "type": "int"
                },
                {
                    "name": "death_type_concept_id",
                    "type": "int"
                }
            ]
        }
    },
    "tables": {
        "visit_occurrence": {
            "time_field": "visit_start_datetime",
            "time_fallbacks": [
                "visit_start_date"
            ],
            "time_end_field": "visit_end_datetime",
            "code_mappings": {
                "source_value": {
                    "field": "visit_source_value"
                },
                "concept_id": {
                    "concept_id_field": "visit_concept_id",
                    "source_concept_id_field": "visit_source_concept_id",
                    "fallback_concept_id": 8
                }
            },
            "metadata": [
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                },
                {
                    "name": "care_site_id",
                    "type": "int"
                },
                {
                    "name": "visit_source_concept_id",
                    "type": "int"
                },
                {
                    "name": "admitting_source_concept_id",
                    "type": "int"
                },
                {
                    "name": "discharged_to_concept_id",
                    "type": "int"
                }
            ]
        },
        "visit_detail": {
            "time_field": "visit_detail_start_datetime",
            "time_fallbacks": [
                "visit_detail_start_date"
            ],
            "time_end_field": "visit_detail_end_datetime",
            "metadata": [
                {
                    "name": "visit_detail_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_detail_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                },
                {
                    "name": "care_site_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "visit_detail_source_value"
                },
                "concept_id": {
                    "concept_id_field": "visit_detail_concept_id",
                    "source_concept_id_field": "visit_detail_source_concept_id"
                }
            }
        },
        "condition_occurrence": {
            "time_field": "condition_start_datetime",
            "time_fallbacks": [
                "condition_start_date"
            ],
            "time_end_field": "condition_end_datetime",
            "metadata": [
                {
                    "name": "condition_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "condition_source_value"
                },
                "concept_id": {
                    "concept_id_field": "condition_occurrence_concept_id",
                    "source_concept_id_field": "condition_occurrence_source_concept_id"
                }
            }
        },
        "drug_exposure": {
            "time_field": "drug_exposure_start_datetime",
            "time_fallbacks": [
                "drug_exposure_start_date"
            ],
            "time_end_field": "drug_exposure_end_datetime",
            "metadata": [
                {
                    "name": "drug_exposure_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_detail_id",
                    "type": "int"
                },
                {
                    "name": "drug_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "route_concept_id",
                    "type": "int"
                },
                {
                    "name": "quantity",
                    "type": "float"
                },
                {
                    "name": "days_supply",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "drug_source_value"
                },
                "concept_id": {
                    "concept_id_field": "drug_exposure_concept_id",
                    "source_concept_id_field": "drug_exposure_source_concept_id"
                }
            }
        },
        "procedure_occurrence": {
            "time_field": "procedure_datetime",
            "time_fallbacks": [
                "procedure_date"
            ],
            "metadata": [
                {
                    "name": "procedure_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_detail_id",
                    "type": "int"
                },
                {
                    "name": "procedure_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "modifier_concept_id",
                    "type": "int"
                },
                {
                    "name": "quantity",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "procedure_source_value"
                },
                "concept_id": {
                    "concept_id_field": "procedure_occurrence_concept_id",
                    "source_concept_id_field": "procedure_occurrence_source_concept_id"
                }
            }
        },
        "device_exposure": {
            "time_field": "device_exposure_start_datetime",
            "time_fallbacks": [
                "device_exposure_start_date"
            ],
            "time_end_field": "device_exposure_end_datetime",
            "metadata": [
                {
                    "name": "device_exposure_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "device_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "quantity",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "device_source_value"
                },
                "concept_id": {
                    "concept_id_field": "device_exposure_concept_id",
                    "source_concept_id_field": "device_exposure_source_concept_id"
                }
            }
        },
        "measurement": {
            "time_field": "measurement_datetime",
            "time_fallbacks": [
                "measurement_date"
            ],
            "numeric_value_field": "value_as_number",
            "text_value_field": "value_source_value",
            "metadata": [
                {
                    "name": "measurement_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "measurement_source_concept_id",
                    "type": "int"
                },
                {
                    "name": "unit_source_value",
                    "type": "string"
                },
                {
                    "name": "range_low",
                    "type": "float"
                },
                {
                    "name": "range_high",
                    "type": "float"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "measurement_source_value"
                },
                "concept_id": {
                    "concept_id_field": "measurement_concept_id",
                    "source_concept_id_field": "measurement_source_concept_id"
                }
            }
        },
        "observation": {
            "time_field": "observation_datetime",
            "time_fallbacks": [
                "observation_date"
            ],
            "numeric_value_field": "value_as_number",
            "text_value_field": "value_as_string",
            "metadata": [
                {
                    "name": "observation_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_detail_id",
                    "type": "int"
                },
                {
                    "name": "observation_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "unit_concept_id",
                    "type": "int"
                },
                {
                    "name": "qualifier_concept_id",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "observation_source_value"
                },
                "concept_id": {
                    "concept_id_field": "observation_concept_id",
                    "source_concept_id_field": "observation_source_concept_id"
                }
            }
        },
        "note": {
            "time_field": "note_datetime",
            "time_fallbacks": [
                "note_date"
            ],
            "text_value_field": "note_text",
            "metadata": [
                {
                    "name": "note_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_detail_id",
                    "type": "int"
                },
                {
                    "name": "note_type_concept_id",
                    "type": "int"
                },
                {
                    "name": "provider_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "note_title"
                },
                "concept_id": {
                    "concept_id_field": "note_concept_id",
                    "source_concept_id_field": "note_source_concept_id"
                }
            }
        },
        "image_occurrence": {
            "time_field": "image_occurrence_date",
            "time_fallbacks": [
                "image_occurrence_datetime"
            ],
            "metadata": [
                {
                    "name": "image_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "image_series_uid",
                    "type": "string"
                },
                {
                    "name": "image_study_uid",
                    "type": "string"
                },
                {
                    "name": "anatomic_site_source_value",
                    "type": "string"
                },
                {
                    "name": "procedure_occurrence_id",
                    "type": "int"
                },
                {
                    "name": "visit_occurrence_id",
                    "type": "int"
                }
            ],
            "code_mappings": {
                "source_value": {
                    "field": "modality_source_value"
                },
                "concept_id": {
                    "concept_id_field": "image_occurrence_concept_id",
                    "source_concept_id_field": "image_occurrence_source_concept_id"
                }
            }
        }
    }
}