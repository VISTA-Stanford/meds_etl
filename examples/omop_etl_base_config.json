{
  "primary_key": "person_id",
  "canonical_events": {
    "birth": {
      "table": "person",
      "code": "MEDS_BIRTH",
      "time_start": "birth_datetime"
    },
    "death": {
      "table": "person",
      "code": "MEDS_DEATH",
      "time_start": "death_datetime"
    },
    "gender": {
      "table": "person",
      "concept_id": "gender_concept_id",
      "static": true
    },
    "race": {
      "table": "person",
      "concept_id": "race_concept_id",
      "static": true
    },
    "ethnicity": {
      "table": "person",
      "concept_id": "ethnicity_concept_id",
      "static": true
    }
  },
  "tables": {
    "visit_occurrence": {
      "subject_id_field": "person_id",
      "time_start": "visit_start_datetime",
      "time_end": "visit_end_datetime",
      "code_mappings": {
        "concept_id": {
          "concept_id_field": "visit_concept_id"
        }
      },
      "metadata": [
        {"name": "visit_occurrence_id", "type": "int"},
        {"name": "care_site_id", "type": "int"},
        {"name": "provider_id", "type": "int"},
        {"name": "admitting_source_concept_id", "type": "int"},
        {"name": "discharge_to_concept_id", "type": "int"}
      ]
    },
    "condition_occurrence": {
      "subject_id_field": "person_id",
      "time_start": "condition_start_datetime",
      "time_end": "condition_end_datetime",
      "code_mappings": {
        "concept_id": {
          "concept_id_field": "condition_concept_id"
        }
      },
      "metadata": [
        {"name": "condition_occurrence_id", "type": "int"},
        {"name": "visit_occurrence_id", "type": "int"},
        {"name": "condition_type_concept_id", "type": "int"},
        {"name": "condition_status_concept_id", "type": "int"}
      ]
    },
    "procedure_occurrence": {
      "subject_id_field": "person_id",
      "time_start": "procedure_datetime",
      "code_mappings": {
        "concept_id": {
          "concept_id_field": "procedure_concept_id"
        }
      },
      "metadata": [
        {"name": "procedure_occurrence_id", "type": "int"},
        {"name": "visit_occurrence_id", "type": "int"},
        {"name": "procedure_type_concept_id", "type": "int"},
        {"name": "modifier_concept_id", "type": "int"},
        {"name": "quantity", "type": "int"}
      ]
    },
    "drug_exposure": {
      "subject_id_field": "person_id",
      "time_start": "drug_exposure_start_datetime",
      "time_end": "drug_exposure_end_datetime",
      "code_mappings": {
        "concept_id": {
          "concept_id_field": "drug_concept_id"
        }
      },
      "numeric_value_field": "quantity",
      "metadata": [
        {"name": "drug_exposure_id", "type": "int"},
        {"name": "visit_occurrence_id", "type": "int"},
        {"name": "drug_type_concept_id", "type": "int"},
        {"name": "route_concept_id", "type": "int"},
        {"name": "dose_unit_concept_id", "type": "int"}
      ]
    },
    "measurement": {
      "subject_id_field": "person_id",
      "time_start": "measurement_datetime",
      "code_mappings": {
        "concept_id": {
          "concept_id_field": "measurement_concept_id"
        }
      },
      "numeric_value_field": "value_as_number",
      "text_value_field": "value_as_concept_id",
      "metadata": [
        {"name": "measurement_id", "type": "int"},
        {"name": "visit_occurrence_id", "type": "int"},
        {"name": "measurement_type_concept_id", "type": "int"},
        {"name": "operator_concept_id", "type": "int"},
        {"name": "unit_concept_id", "type": "int"},
        {"name": "range_low", "type": "float"},
        {"name": "range_high", "type": "float"}
      ]
    },
    "observation": {
      "subject_id_field": "person_id",
      "time_start": "observation_datetime",
      "code_mappings": {
        "concept_id": {
          "concept_id_field": "observation_concept_id"
        }
      },
      "numeric_value_field": "value_as_number",
      "text_value_field": "value_as_string",
      "metadata": [
        {"name": "observation_id", "type": "int"},
        {"name": "visit_occurrence_id", "type": "int"},
        {"name": "observation_type_concept_id", "type": "int"},
        {"name": "qualifier_concept_id", "type": "int"},
        {"name": "unit_concept_id", "type": "int"}
      ]
    }
  }
}

